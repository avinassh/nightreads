{% extends 'base.html' %}

{% block body %}
  {% include 'masthead.html' %}
  <div class="ui inverted vertical center aligned segment">
    <div class="ui text container">
      <div class="ui inverted segment">
        <form class="ui inverted form" method="POST" action="{% url 'users:subscribe' %}">
          {% csrf_token %}
          {% for field in form %}
            <div class="field">
              {{ field.label_tag }}
              {{ field }}
            </div>
          {% endfor %}
          <button class="ui button" type="submit">Submit</button>
          <div class="ui error message"></div>
        </form>
      </div>
    </div>
  </div>
  <div class="ui inverted vertical center aligned segment">
    <div class="ui text container">
      <div class="ui inverted">
          <h2>What is Nightreads?</h2>
          <p>Each night we will email you a link to an interesting read. The links will never contain any news or ads. There are <a href="http://lobste.rs">plenty</a> <a href="https://news.ycombinator.com">of</a> <a href="https://www.reddit.com/r/programming">places</a> where you can find your fix of latest tech news. Pick your interests in the box above, we'll send you links when it matches your chosen tags. Select <code>all</code> to receive all emails from Nightreads.</p>
          <p>You can suggest us interesting links via <a href="https://twitter.com/devupin">Twitter</a>, <a href="http://scr.im/avii">Email</a> or <a href="http://slack.devup.in">join</a> our <a href="https://dev-s.slack.com">Devup Slack Team</a>. We plan to build a web interface to manage this in future.</p>
          <p>Nightreads was originally started by our beloved member <a href="https://dev-s.slack.com/team/gnu">@gnu</a> in Devup Slack.</p>
      </div>
    </div>
  </div>
{% endblock %}

{% block javascript %}
<script type="text/javascript">
  $('.ui.dropdown').dropdown();
  $('.ui.form')
  .form({
    fields: {
      email: {
        identifier: 'email',
        rules: [
          {
            type   : 'email',
            prompt : 'Please enter your email'
          }
        ]
      },
      tags: {
        identifier: 'tags',
        rules: [
          {
            type   : 'empty',
            prompt : 'You must select some tags'
          }
        ]
      }
    }
  });
</script>
{% endblock %}
